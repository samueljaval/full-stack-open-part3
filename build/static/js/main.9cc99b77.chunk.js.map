{"version":3,"sources":["Filter.js","PersonalForm.js","Persons.js","services/persons.js","Notification.js","App.js","index.js"],"names":["Filter","filter","func","value","onChange","PersonalForm","name","number","adding","changingName","changingNumber","onSubmit","type","Persons","persons","map","person","key","id","onClick","baseUrl","axios","get","then","response","data","newObject","post","delete","put","Notification","message","NotifStyle","color","fontStyle","background","fontSize","borderStyle","borderRadius","padding","marginBottom","style","App","useState","setPersons","newName","setNewName","newNumber","setNewNumber","newFilter","setNewFilter","setMessage","setColor","useEffect","personService","initialPeople","filtered","toLowerCase","includes","event","target","preventDefault","names","idNewName","window","confirm","returnedPerson","catch","error","setTimeout","concat","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.9cc99b77.chunk.js","sourcesContent":["import React from 'react'\n\nconst Filter = ({filter, func}) => (\n    <div>\n        filter shown with: <input value = {filter} onChange = {func}/>\n    </div>\n)\n\nexport default Filter \n","import React from 'react'\n\nconst PersonalForm = ({name, number, adding, changingName, changingNumber}) => (\n\n    <form onSubmit = {adding}>\n      <div>\n        name: <input value = {name} onChange = {changingName}/>\n      </div>\n      <div>\n        number: <input value = {number} onChange = {changingNumber}/>\n      </div>\n      <div>\n        <button type=\"submit\">add</button>\n      </div>\n    </form>\n)\n\nexport default PersonalForm\n","import React from 'react'\n\nconst Persons = ({persons, func}) => {\n    return (\n        <>\n        {persons.map(person =>\n                          <div key = {person.id}>\n                          <div>\n                                {person.name} {person.number}\n                                <button onClick={()=>func(person.id, person.name)}>\n                                    delete\n                                </button>\n                          </div>\n                          </div>\n                      )\n                }\n        </>\n    )\n\n}\n\nexport default Persons\n","import axios from 'axios'\nconst baseUrl = '/api/persons'\n\nconst getAll = () => {\n  const request = axios.get(baseUrl)\n  return request.then(response => response.data)\n}\n\nconst changeNum = (id, newObject) => {\n    const request = axios.put(`${baseUrl}/${id}`, newObject)\n    return request.then(response => response.data)\n}\n\nconst create = newObject => {\n  const request = axios.post(baseUrl, newObject)\n  return request.then(response => response.data)\n}\n\nconst deleteName = (id) => {\n    const request = axios.delete(`${baseUrl}/${id}`)\n    return request.then(response => response.data)\n}\n\nexport default {getAll, create, deleteName, changeNum}\n","import React from 'react'\n\nconst Notification = ({message, color}) => {\n    const NotifStyle = {\n    color: color,\n    fontStyle: 'italic',\n    background: 'lightgrey',\n    fontSize: 20,\n    borderStyle: 'solid',\n    borderRadius: 5,\n    padding: 10,\n    marginBottom: 10,\n    }\n\n  if (message === null) return null\n  return (\n      <div style={NotifStyle}>\n      <em>{message}</em>\n    </div>\n  )\n}\n\nexport default Notification\n","import React, { useState , useEffect} from 'react'\nimport Filter from './Filter'\nimport PersonalForm from './PersonalForm'\nimport Persons from './Persons'\nimport personService from './services/persons'\nimport Notification from './Notification'\n\n\nconst App = () => {\n\n  const [persons, setPersons] = useState([])\n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber ] = useState('')\n  const [ newFilter, setNewFilter ] = useState('')\n  const [message, setMessage] = useState(null)\n  const [color, setColor] = useState('green')\n\n  useEffect(() => {\n  personService\n    .getAll()\n    .then(initialPeople => {\n      setPersons(initialPeople)\n    })\n  }, [])\n\n  const addPerson = (event) => {\n      event.preventDefault()\n      const names = persons.map(person => person.name)\n      const newObject = {name : newName, number : newNumber}\n      if (names.includes(newName)) {\n          const idNewName = persons.filter(person => person.name === newName)[0].id\n          const ask = window.confirm(newName + \" is already added to the phonebook, replace th old number with the old one?\")\n          if (ask){\n              personService\n                    .changeNum(idNewName, newObject)\n                    .then(returnedPerson => {\n                        setPersons(persons.map(person =>\n                                        person.id !== idNewName\n                                        ? person\n                                        : returnedPerson))\n                    })\n                    .catch(error => {\n                        setColor('red')\n                        setMessage(`Information of ${newName} has already been removed from server`)\n                        setTimeout(() => {setMessage(null)}, 5000)\n                        // setColor('green')\n                    })\n            setColor('green')\n            setMessage(`Added ${newName}`)\n            setTimeout(() => {setMessage(null)}, 5000)\n          }\n\n      }\n      else {\n            personService\n                .create(newObject)\n                .then(returnedPerson => {\n                    setPersons(persons.concat(returnedPerson))\n                })\n                .catch(error => {\n                    setColor('red')\n                    setMessage(error.response.data.error)\n                })\n            setColor('green')\n            setMessage(`Added ${newName}`)\n            setTimeout(() => {setMessage(null)}, 5000)\n      }\n      setNewName('')\n      setNewNumber('')\n  }\n\n  const removeName = (id, name) => {\n      const ask = window.confirm(\"Delete \" + name + \" ?\")\n      if (ask) {\n          personService.deleteName(id)\n          setPersons(persons.filter(person => person.id !== id))\n      }\n  }\n\n  const filtered = persons.filter(person => person.name.toLowerCase().includes(newFilter))\n\n\n  const handleChangeName = (event) => setNewName(event.target.value)\n  const handleChangeNumber = (event) => setNewNumber(event.target.value)\n  const handleChangeFilter = (event) => setNewFilter(event.target.value.toLowerCase())\n\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message = {message} color = {color}/>\n      <Filter filter = {newFilter} func = {handleChangeFilter}/>\n      <h2> add a new </h2>\n      <PersonalForm name = {newName}\n                    number = {newNumber}\n                    adding = {addPerson}\n                    changingName = {handleChangeName}\n                    changingNumber = {handleChangeNumber}/>\n      <h2>Numbers</h2>\n      <Persons persons = {filtered} func = {removeName}/>\n    </div>\n  )\n\n}\n\nexport default App\n","import React from \"react\"\nimport ReactDOM from \"react-dom\"\nimport App from \"./App\"\n\nReactDOM.render(<App />, document.getElementById(\"root\"))\n"],"sourceRoot":""}